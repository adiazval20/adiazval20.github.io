<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>.:: Indicadores de Gestión ::.</title>
    <!-- Fonts [ OPTIONAL ] -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS [ REQUIRED ] -->
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <!-- Nifty CSS [ REQUIRED ] -->
    <link rel="stylesheet" href="./assets/css/nifty.min.css">
    <!-- Nifty Demo Icons [ OPTIONAL ] -->
    <link rel="stylesheet" href="./assets/css/demo-purpose/demo-icons.min.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .reportes .card {
        }
    </style>
</head>
<body class="in-out-back">
<div id="root" class="root mn--max">
    <section id="content" class="content">
        <div class="content__header content__boxed overlapping">
            <div class="content__wrap pt-3 pb-4">
                <div class="row">
                    <div class="col-sm-12 reportes d-flex justify-content-start flex-wrap">
                        <div class="card mb-4" style="width: 20%;">
                            <h5 class="card-header">Condición de Equipos</h5>
                            <div class="card-body text-center d-flex flex-column justify-content-center">
                                <canvas id="doughnut" style="height: 320px;"></canvas>
                            </div>
                        </div>
                        <div class="card mb-4 ms-5" style="width: 50%;">
                            <h5 class="card-header">Benchmark</h5>
                            <div class="card-body text-center d-flex flex-column justify-content-end">
                                <canvas id="bar" style="height: 320px;"></canvas>
                            </div>
                        </div>
                        <div class="card mb-4" style="width: 50%">
                            <h5 class="card-header">Principales Diagnósticos</h5>
                            <div class="card-body text-center d-flex flex-column justify-content-end">
                                <canvas id="horizontalBar" style="height: 280px;"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <header class="header">
        <div class="header__inner">
            <div class="header__brand">
                <div class="brand-wrap">
                    <a href="./dashboard.html" class="brand-img stretched-link">
                        <img src="img/logo.png" alt="Logo" class="Nifty logo">
                    </a>
                </div>
            </div>
            <div class="header__content">
                <div class="header__content-start">
                    <button type="button" class="nav-toggler header__btn btn btn-icon btn-sm">
                        <i class="demo-psi-view-list"></i>
                    </button>
                </div>
                <div class="header__content-end">
                    <div class="dropdown">
                        <button class="header__btn btn btn-icon btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="demo-psi-male"></i>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end w-md-450px">
                            <div class="d-flex align-items-center border-bottom p-3">
                                <div class="flex-shrink-0">
                                    <img class="img-sm rounded-circle" src="./img/user.png" alt="Profile Picture" loading="lazy">
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="mb-0">Hernán Pozo</h5>
                                    <span class="text-muted fst-italic">juan.perez@empresa.com</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="sidebar-toggler header__btn btn btn-icon btn-sm" type="button">
                        <i class="demo-psi-dot-vertical"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <nav id="mainnav-container" class="mainnav">
        <div class="mainnav__inner">
            <div class="mainnav__top-content scrollable-content pb-5">
                <div class="mainnav__profile mt-3">
                    <div class="mininav-toggle text-center py-2 collapsed">
                        <img class="mainnav__avatar img-md rounded-circle" src="./img/user.png" alt="User">
                    </div>
                    <div class="mininav-content collapse d-mn-max">
                        <div class="d-grid">
                            <button class="d-block btn shadow-none p-2" data-bs-toggle="collapse" data-bs-target="#usernav" aria-expanded="false"
                                    aria-controls="usernav">
                                    <span class="dropdown-toggle d-flex justify-content-center align-items-center">
                                        <h6 class="mb-0 me-2">Hernán Pozo</h6>
                                    </span>
                                <small class="text-muted">Administrador</small>
                            </button>
                        </div>
                    </div>
                </div>
                <h6 class="mainnav__caption mt-5 px-3 fw-bold">Navegación</h6>
                <ul class="mainnav__menu nav flex-column">
                    <li class="nav-item has-sub">
                        <a href="#" class="mininav-toggle nav-link">
                            <i class="demo-pli-receipt-4 fs-5 me-2"></i>
                            <span class="nav-label">Reportes</span>
                        </a>
                        <ul class="mininav-content nav collapse show">
                            <li class="nav-item">
                                <a href="./dashboard.html" class="nav-link">Unidades</a>
                            </li>
                            <li class="nav-item">
                                <a href="./dashboard2.html" class="nav-link active">Indicadores de Gestión</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Repuestos</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item has-sub">
                        <a href="#" class="mininav-toggle nav-link collapsed">
                            <i class="demo-pli-gear fs-5 me-2"></i>
                            <span class="nav-label">Configuraciones</span>
                        </a>
                        <ul class="mininav-content nav collapse">
                            <li class="nav-item">
                                <a href="usuarios.html" class="nav-link">Usuarios</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<!-- Popper JS [ OPTIONAL ] -->
<script src="./assets/vendors/popperjs/popper.min.js" defer></script>
<!-- Bootstrap JS [ OPTIONAL ] -->
<script src="./assets/vendors/bootstrap/bootstrap.min.js" defer></script>
<!-- Nifty JS [ OPTIONAL ] -->
<script src="./assets/js/nifty.min.js" defer></script>
<script src="assets/js/jquery-3.6.0.min.js"></script>
<script src="assets/vendors/chart.js/chart.min.js"></script>
<script>
    $(document).ready(function () {
        const doughnutCtx = $('#doughnut');
        const doughnutData = {
            labels: [
                'Crítico',
                'Observación',
                'Normal'
            ],
            datasets: [{
                label: 'Condición de Equipos Críticos',
                data: [300, 50, 100],
                backgroundColor: [
                    'rgb(223, 86, 69)',
                    'rgb(37,71,106)',
                    'rgb(139,195,74)'
                ],
                hoverOffset: 4
            }]
        };
        const doughnutConfig = {
            type: 'doughnut',
            responsive: true,
            data: doughnutData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
            }
        };
        const doughnutChart = new Chart(doughnutCtx, doughnutConfig);

        const barCtx = $('#bar');
        const barLabels = ["Alerta", "Alarma"];
        const barData = {
            labels: barLabels,
            datasets: [{
                label: 'Alerta',
                data: [30, 15],
                backgroundColor: 'rgba(223, 86, 69)',
                borderWidth: 1
            }, {
                label: 'Benchmark',
                data: [5, 3],
                backgroundColor: 'rgba(37,71,106)',
                borderWidth: 1
            }]
        };
        const barConfig = {
            type: 'bar',
            responsive: true,
            data: barData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                responsive: true,
                maintainAspectRatio: false,
            },
        };
        const barChart = new Chart(barCtx, barConfig);


        const horizontalBarCtx = $('#horizontalBar');
        const horizontalBarLabels = ["Rodamiento", "Fuga Mecánica", "Desbalance", "Lubricación"];
        const horizontalBarData = {
            labels: horizontalBarLabels,
            datasets: [{
                axis: 'y',
                label: 'Diagnósticos',
                data: [95, 85, 80, 73],
                fill: false,
                backgroundColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(75, 192, 192)',
                ],
            }]
        };
        const horizontalBarConfig = {
            type: 'bar',
            data: horizontalBarData,
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false,
                        labels: {
                            color: 'rgb(75, 192, 192)',
                        }
                    }
                }
            }
        };
        const horizontalBarChart = new Chart(horizontalBarCtx, horizontalBarConfig);

    });
</script>
</body>
</html>